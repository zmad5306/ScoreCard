<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Detail - Transaction - Score Card Portal</title>
<!--/*/ <th:block th:insert="~{fragments/headerinc :: head}"></th:block> /*/-->
</head>
<body>
	<!--/*/ <th:block th:insert="~{fragments/header :: header}"></th:block> /*/-->
	<div class="container">
		<div class="starter-template">
			<form method="post" th:object="${transaction}">
				<div class="row">
					<div class="col-md-9">
						<h1>Transaction</h1>
					</div>
					<div class="col-md-3 pull-right">
						<div class="btn-group">
							<button type="submit" class="btn btn-primary" name="_eventId_deleteTransaction" value="deleteTransaction" th:formaction="${flowExecutionUrl}"> 
								<i class="glyphicon glyphicon-trash" aria-hidden="true"></i>
								Delete Transaction
							</button>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<p th:if="${successfulAdd}" class="alert alert-success">Transaction
							saved successfully.</p>
						<div class="control-group">
							<label class="control-label">Transaction Id:</label> <span
								class="controls readonly" th:text="${transaction.transactionId}"></span>
						</div>
						<div class="control-group">
							<label class="control-label">Transaction Name:</label> <span
								class="controls readonly" th:text="${transaction.name}"></span>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-md-12">
						<h3>Actions</h3>
						<table class="table table-hover">
							<thead>
								<tr>
									<th>Action Id</th>
									<th>Action Name</th>
									<th>Service Id</th>
									<th>Action Path</th>
									<th>Method</th>
									<th>Depends On</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="action : ${transaction.actions}">
									<td>
										<button type="submit" class="btn btn-link" th:formaction="${flowExecutionUrl + '&amp;action_id=' + action.actionId}" name="_eventId_actionDetails" value="actionDetails" th:text="${action.actionId}"></button>
									</td>
									<td th:text="${action.name}"></td>
									<td>
										<button type="submit" class="btn btn-link" th:formaction="${flowExecutionUrl + '&amp;service_id=' + action.service.serviceId}" name="_eventId_serviceDetails" value="serviceDetails" th:text="${action.service.serviceId}"></button>
									</td>
									<td th:text="${action.path}"></td>
									<td th:text="${action.method}"></td>
									<td>
										<ul class="comma-list">
											<li th:each="dep : ${action.dependsOn}">
												<button type="submit" class="btn btn-link" th:formaction="${flowExecutionUrl + '&amp;action_id=' + dep}" name="_eventId_actionDetails" value="actionDetails" th:text="${dep}"></button>
											</li>
										</ul>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</form>
			</div>
		</div>
	</div>
</body>
</html>
